<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Lire un avis</title>

    <link href="./node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="./node_modules/bootstrap//dist/js/bootstrap.bundle.min.js"></script>

    <style>
        .main {
            margin-top: 100px;
            margin-bottom: 50px;
        }

        nav .marge {
            margin-right: 20px;
            margin-left: 20px;
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <a class="marge navbar-brand" href="./index.html">Recommencer </a>
            <a class="marge navbar-brand" href="./highscore.html">Highscore </a>
        </nav>
    </header>

    <div class="main container-fluid" id="main">
        <div>
            <h1 style='align-items:center; ;'>Tableau des Scores</h1>
        </div>
        <div class="card" style='margin-bottom: 10px'>
            <div class="card-body" style="background-color: rgb(195, 0, 255);">
                <h5 class="card-title"> Pseudonyme  </h5>
                <h6 class="card-subtitle mb-2 text-muted"> Score </h6>
            </div>
        </div>
        <!-- <div class="card">
            <div class="card-body">
                <h5 class="card-title">titre du commentaire</h5>
                <h6 class="card-subtitle mb-2 text-muted">pseudo</h6>
                <p class="card-text">Contenu du commentaire.</p>
            </div>
        </div> -->
    </div>

    <footer class="footer fixed-bottom text-center bg-dark">
        <p class="text-white">Ne faites pas attention aux pseudos.</p>
    </footer>
    <script>
        main = document.querySelector("#main")
        fetch("/api/read")
            .then(response => response.json())
            .then(data => {
                console.log(data);
                for (const datas of data[0]) {
                    console.log(datas)

                    card = document.createElement("div")
                    card.classList.add("card")
                    cardBody = document.createElement("div")
                    cardBody.classList.add("card-body")
                    card.appendChild(cardBody)

                    element = document.createElement("h5")
                    element.classList.add("card-title")
                    element.innerText = datas.pseudo
                    cardBody.appendChild(element)

                    element = document.createElement("h6")
                    element.classList.add("card-subtitle", "mb-2", "text-muted")
                    element.innerText = datas.Score
                    cardBody.appendChild(element)

                    main.appendChild(card)
                }
            })

    </script>
</body>

</html>